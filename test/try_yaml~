#!/usr/bin/env perl

use strict;
use warnings;
use lib "/home/yunfeiguo/projects/SeqMule_dev/lib";
use YAML::Tiny;

my $my_yml;

#warn "read try.yml\n";
#$my_yml = YAML::Tiny::LoadFile('one_sample_bam.yml');
#print $my_yml,"\n";
#print @{$my_yml->{bam}->{sample1}},"\n";

#warn "read 3sample bam.yml\n";
#$my_yml = YAML::Tiny::LoadFile('three_sample_bam.yml');
#print $my_yml,"\n";
#print @{$my_yml->{bam}->{sample1}},"\n";
#print @{$my_yml->{bam}->{sample2}},"\n";
#print @{$my_yml->{bam}->{sample3}},"\n";
#
#
#warn "read one sample se fq.yml\n";
#$my_yml = YAML::Tiny::LoadFile('one_sample_se_fq.yml');
#print $my_yml,"\n";
#print %{$my_yml->{fastq}},"\n";
#print @{$my_yml->{fastq}->{sample1}},"\n";
#
#warn "read three sample se fq.yml\n";
#$my_yml = YAML::Tiny::LoadFile('three_sample_se_fq.yml');
#print $my_yml,"\n";
#print @{$my_yml->{fastq}},"\n";
#print @{$my_yml->{prefix}},"\n";

#warn "read one sample pe fq.yml\n";
#$my_yml = YAML::Tiny::LoadFile('one_sample_pe_fq.yml');
#print $my_yml,"\n";
#print %{$my_yml->{fastq}},"\n";
#print @{$my_yml->{fastq}->{sample1}},"\n";
#
#warn "read one sample pe merge fq.yml\n";
#$my_yml = YAML::Tiny::LoadFile('one_sample_pe_merge_fq.yml');
#print $my_yml,"\n";
#print %{$my_yml->{fastq}},"\n";
#print @{$my_yml->{fastq}->{sample1}->[0]},"\n";
#print @{$my_yml->{fastq}->{sample1}->[1]},"\n";
#print @{$my_yml->{fastq}->{sample1}->[2]},"\n";
#
warn "read 1.yml\n";
$my_yml = YAML::Tiny::LoadFile('1.yml');
print $my_yml,"\n";
for my $i(@$my_yml)
{
    warn "prefix:$i->{prefix}\n";
    warn "filetype:$i->{filetype}\n";
    warn "library:$i->{library}\n";
    warn "readgroup:$i->{readgroup}\n";
    warn "platform:$i->{platform}\n";

    if($i->{filetype} eq 'bam')
    {
	warn @{$i->{file}},"\n";

    } elsif($i->{filetype} eq 'fastq')
    {
	for my $fq(@{$i->{file}})
	{
	    warn "fq: @$fq\n";
	}
    }
}
